<!DOCTYPE html>
<html class="writer-html5" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Proof format: LFSC — cvc5  documentation
  </title>
  <link href="../static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../static/css/theme.css" rel="stylesheet" type="text/css"/>
  <link href="../static/tabs.css" rel="stylesheet" type="text/css"/>
  <link href="../static/custom.css" rel="stylesheet" type="text/css"/>
  <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="../" id="documentation_options" src="../static/documentation_options.js">
  </script>
  <script src="../static/jquery.js">
  </script>
  <script src="../static/underscore.js">
  </script>
  <script src="../static/doctools.js">
  </script>
  <script src="../static/js/theme.js">
  </script>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="output_dot.html" rel="next" title="Proof format: DOT"/>
  <link href="output_alethe.html" rel="prev" title="Proof format: Alethe"/>
 </head>
 <body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
   <nav class="wy-nav-side" data-toggle="wy-nav-shift">
    <div class="wy-side-scroll">
     <div class="wy-side-nav-search">
      <a class="icon icon-home" href="../index.html">
       cvc5
      </a>
      <div role="search">
       <form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
        <input name="q" placeholder="Search docs" type="text"/>
        <input name="check_keywords" type="hidden" value="yes"/>
        <input name="area" type="hidden" value="default"/>
       </form>
      </div>
     </div>
     <div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
      <ul class="current">
       <li class="toctree-l1">
        <a class="reference internal" href="../installation/installation.html">
         Installation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../binary/binary.html">
         Binary Documentation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../api/api.html">
         API Documentation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../options.html">
         Options
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../output-tags.html">
         Output tags
        </a>
       </li>
       <li class="toctree-l1 current">
        <a class="reference internal" href="proofs.html">
         Proof production
        </a>
        <ul class="current">
         <li class="toctree-l2">
          <a class="reference internal" href="proof_rules.html">
           Proof rules
          </a>
         </li>
         <li class="toctree-l2">
          <a class="reference internal" href="output_alethe.html">
           Alethe
          </a>
         </li>
         <li class="toctree-l2 current">
          <a class="current reference internal" href="#">
           LFSC
          </a>
         </li>
         <li class="toctree-l2">
          <a class="reference internal" href="output_dot.html">
           DOT
          </a>
         </li>
        </ul>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../resource-limits.html">
         Resource limits
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../statistics.html">
         Statistics
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../examples/examples.html">
         Examples
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../theories/theories.html">
         Theory References
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../references.html">
         References
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="../genindex.html">
         Index
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div aria-label="versions" class="rst-versions shift-up" data-toggle="rst-versions" id="cvc5-versions" role="note">
     <span class="rst-current-version" data-toggle="rst-current-version">
      <i class="fas fa-tags">
      </i>
      Other versions
     </span>
     <div class="rst-other-versions">
      <dl>
       <dd>
        <strong>
         <a href="../../cvc5-1.0.0/">
          cvc5-1.0.0
         </a>
        </strong>
       </dd>
      </dl>
     </div>
    </div>
   </nav>
   <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
    <nav aria-label="Mobile navigation menu" class="wy-nav-top">
     <i class="fa fa-bars" data-toggle="wy-nav-top">
     </i>
     <a href="../index.html">
      cvc5
     </a>
    </nav>
    <div class="wy-nav-content">
     <div class="rst-content">
      <div aria-label="Page navigation" role="navigation">
       <ul class="wy-breadcrumbs">
        <li>
         <a class="icon icon-home" href="../index.html">
         </a>
         »
        </li>
        <li>
         <a href="proofs.html">
          Proof production
         </a>
         »
        </li>
        <li>
         Proof format: LFSC
        </li>
        <li class="wy-breadcrumbs-aside">
        </li>
       </ul>
       <hr/>
      </div>
      <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <div itemprop="articleBody">
        <section id="proof-format-lfsc">
         <h1>
          Proof format: LFSC
          <a class="headerlink" href="#proof-format-lfsc" title="Permalink to this headline">
           
          </a>
         </h1>
         <p>
          Using the flag
          <a class="reference internal" href="../options.html#lbl-option-proof-format-mode">
           <span class="std std-ref">
            proof-format-mode=lfsc
           </span>
          </a>
          , cvc5 outputs proofs in the LFSC proof format.
         </p>
         <p>
          The LFSC proof format is based on the LF logical framework extended with computational side conditions, as described in
          <span id="id1">
           [
           <a class="reference internal" href="../references.html#id9" title="Aaron Stump, Duckki Oe, Andrew Reynolds, Liana Hadarean, and Cesare Tinelli. SMT proof checking using a logical framework. Formal Methods Syst. Des., 42(1):91–118, 2013. URL: https://doi.org/10.1007/s10703-012-0163-3, doi:10.1007/s10703-012-0163-3.">
            SOR+13
           </a>
           ]
          </span>
          . A high performance C++ proof checker for LFSC is available
          <a class="reference external" href="https://github.com/cvc5/LFSC">
           here
          </a>
          .
         </p>
         <p>
          For a quick start, the cvc5 repository contains a
          <a class="reference external" href="https://github.com/cvc5/cvc5/blob/main/contrib/get-lfsc-checker">
           script
          </a>
          which will download and install the LFSC proof checker, and create scripts for generating proofs with cvc5 and checking them with the LFSC proof checker.
         </p>
         <p>
          LFSC is a meta-framework, meaning that the proof rules used by cvc5 are defined in signature files, also contained within the cvc5 repository in this
          <a class="reference external" href="https://github.com/cvc5/cvc5/blob/main/proofs/lfsc/signatures">
           directory
          </a>
          . Based on these signatures, cvc5 provides basic support for LFSC proofs over all theories that it supports.
         </p>
         <p>
          Note that several proof rules in the internal calculus are not yet supported in LFSC signatures, and are instead printed as
          <cite>
           trust
          </cite>
          steps in the LFSC proof. A trust step proves an arbitrary formula with no provided justification. The LFSC proof contains warnings for which proof rules from the internal calculus were recorded as trust steps in the LFSC proof.
         </p>
         <p>
          For more fine-grained proofs, the additional option
          <a class="reference internal" href="../options.html#lbl-option-proof-granularity">
           <span class="std std-ref">
            proof-granularity=theory-rewrite
           </span>
          </a>
          should be passed to cvc5. This often will result in LFSC proofs with more detail, and whose trust steps correspond only to equalities corresponding to theory rewrites.
         </p>
         <p>
          A simple example of cvc5 producing a proof in LFSC proof format:
         </p>
         <div class="highlight-text notranslate">
          <div class="highlight">
           <pre><span></span>$ bin/cvc5 --dump-proofs --proof-format-mode=lfsc --proof-granularity=theory-rewrite ../test/regress/cli/regress0/proofs/qgu-fuzz-1-bool-sat.smt2
unsat
; WARNING: adding trust step for THEORY_REWRITE
(define cvc.c (var 0 Bool))
(define cvc.b (var 1 Bool))
(define cvc.d (var 2 Bool))
(check
(@ __t1 (= cvc.b cvc.d)
(@ __t2 (or cvc.b (or cvc.d false))
(@ __t3 (= __t2 __t1)
(@ __t4 (and __t3 true)
(@ __t5 (ite cvc.d cvc.c false)
(@ __t6 (= cvc.c cvc.d)
(@ __t7 (or cvc.d (or cvc.b false))
(@ __t8 (and (not cvc.d) __t4)
(% __a0 (holds (and __t7 (and __t6 (and (not __t5) __t4))))
(: (holds false)

(plet _  _ 

(refl __t3)
(\ __p1

(plet _  _ 

(refl f_and)
(\ __p2

(plet _  _ 

(refl __t7)
(\ __p3

(plet _  _ 

(refl f_and)
(\ __p4

(plet _  _ 

(refl f_and)
(\ __p5

(plet _  _ 

(cong _  _  _  _ 
(cong _  _  _  _  __p5 __p3)
(cong _  _  _  _ 
(cong _  _  _  _  __p5
(refl __t6))
(cong _  _  _  _ 
(cong _  _  _  _  __p5
(cong _  _  _  _ 
(refl f_not)
(trust (= __t5 (and cvc.d (and cvc.c true)))) ; from THEORY_REWRITE
))
(cong _  _  _  _ 
(cong _  _  _  _  __p5 __p1)
(refl true)))))
(\ __p6

(plet _  _ 

(and_elim _  _  1
(eq_resolve _  _  __a0 __p6))
(\ __p7

(plet _  _ 

(refl f_and)
(\ __p8

(plet _  _ 

(refl cvc.d)
(\ __p9

(plet _  _ 

(eq_resolve _  _  __a0
(trans _  _  _  __p6
(trans _  _  _ 
(cong _  _  _  _ 
(cong _  _  _  _  __p4
(refl __t7))
(cong _  _  _  _ 
(cong _  _  _  _  __p4
(cong _  _  _  _ 
(cong _  _  _  _ 
(refl f_=) __p7) __p9))
(cong _  _  _  _ 
(cong _  _  _  _  __p4
(cong _  _  _  _ 
(refl f_not)
(cong _  _  _  _ 
(cong _  _  _  _  __p8 __p9)
(cong _  _  _  _ 
(cong _  _  _  _  __p8 __p7)
(refl true)))))
(cong _  _  _  _ 
(cong _  _  _  _  __p4
(refl __t3))
(refl true)))))
(trans _  _  _ 
(cong _  _  _  _ 
(cong _  _  _  _  __p2 __p3)
(cong _  _  _  _ 
(cong _  _  _  _  __p2
(trust (= (= cvc.d cvc.d) true)) ; from THEORY_REWRITE
)
(cong _  _  _  _ 
(cong _  _  _  _  __p2
(cong _  _  _  _ 
(refl f_not)
(trust (= (and cvc.d (and cvc.d true)) cvc.d)) ; from THEORY_REWRITE
))
(cong _  _  _  _ 
(cong _  _  _  _  __p2 __p1)
(refl true)))))
(trust (= (and __t7 (and true __t8)) (and __t7 __t8))) ; from THEORY_REWRITE
))))
(\ __p10

(plet _  _ 

(and_elim _  _  0 __p10)
(\ __p11


(resolution _  _  _ 
(resolution _  _  _ 
(reordering _  (or __t1 (or (not __t2) false))
(equiv_elim1 _  _ 
(and_elim _  _  2 __p10)))
(resolution _  _  _ 
(resolution _  _  _ 
(reordering _  (or cvc.d (or (not cvc.b) (or (not __t1) false)))
(cnf_equiv_pos1 cvc.b cvc.d))
(and_elim _  _  1 __p10) tt cvc.d)
(resolution _  _  _ 
(reordering _  __t2 __p11)
(and_elim _  _  1 __p10) tt cvc.d) ff cvc.b) tt __t1)
(reordering _  __t2 __p11) ff __t2))))))))))))))))))))))))))))))))))
</pre>
          </div>
         </div>
        </section>
       </div>
      </div>
      <footer>
       <div aria-label="Footer" class="rst-footer-buttons" role="navigation">
        <a accesskey="p" class="btn btn-neutral float-left" href="output_alethe.html" rel="prev" title="Proof format: Alethe">
         <span aria-hidden="true" class="fa fa-arrow-circle-left">
         </span>
         Previous
        </a>
        <a accesskey="n" class="btn btn-neutral float-right" href="output_dot.html" rel="next" title="Proof format: DOT">
         Next
         <span aria-hidden="true" class="fa fa-arrow-circle-right">
         </span>
        </a>
       </div>
       <hr/>
       <div role="contentinfo">
        <p>
         © Copyright 2022, the authors of cvc5.
        </p>
       </div>
       Built with
       <a href="https://www.sphinx-doc.org/">
        Sphinx
       </a>
       using a
       <a href="https://github.com/readthedocs/sphinx_rtd_theme">
        theme
       </a>
       provided by
       <a href="https://readthedocs.org">
        Read the Docs
       </a>
       .
      </footer>
     </div>
    </div>
   </section>
  </div>
  <script>
   jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 </body>
</html>