<!DOCTYPE html>
<html class="writer-html5" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="Docutils 0.18.1: http://docutils.sourceforge.net/" name="generator"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Resource limits — cvc5  documentation
  </title>
  <link href="static/css/theme.css" rel="stylesheet" type="text/css"/>
  <link href="static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="static/css/theme.css" rel="stylesheet" type="text/css"/>
  <link href="static/tabs.css" rel="stylesheet" type="text/css"/>
  <link href="static/custom.css" rel="stylesheet" type="text/css"/>
  <!--[if lt IE 9]>
    <script src="static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="./" id="documentation_options" src="static/documentation_options.js" type="text/javascript">
  </script>
  <script data-url_root="./" id="documentation_options" src="static/documentation_options.js">
  </script>
  <script src="static/jquery.js">
  </script>
  <script src="static/underscore.js">
  </script>
  <script src="static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="static/doctools.js">
  </script>
  <script src="static/js/theme.js" type="text/javascript">
  </script>
  <link href="genindex.html" rel="index" title="Index"/>
  <link href="search.html" rel="search" title="Search"/>
  <link href="statistics.html" rel="next" title="Statistics"/>
  <link href="proofs/output_dot.html" rel="prev" title="Proof format: DOT"/>
 </head>
 <body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
   <nav class="wy-nav-side" data-toggle="wy-nav-shift">
    <div class="wy-side-scroll">
     <div class="wy-side-nav-search">
      <a class="icon icon-home" href="index.html">
       cvc5
      </a>
      <div role="search">
       <form action="search.html" class="wy-form" id="rtd-search-form" method="get">
        <input name="q" placeholder="Search docs" type="text"/>
        <input name="check_keywords" type="hidden" value="yes"/>
        <input name="area" type="hidden" value="default"/>
       </form>
      </div>
     </div>
     <div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
      <ul class="current">
       <li class="toctree-l1">
        <a class="reference internal" href="installation/installation.html">
         Installation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="binary/binary.html">
         Binary Documentation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="api/api.html">
         API Documentation
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="options.html">
         Options
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="output-tags.html">
         Output tags
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="proofs/proofs.html">
         Proof production
        </a>
       </li>
       <li class="toctree-l1 current">
        <a class="current reference internal" href="#">
         Resource limits
        </a>
        <ul>
         <li class="toctree-l2">
          <a class="reference internal" href="#overall-time-limit-tlimit-option">
           Overall time limit (
           <span class="xref std std-ref">
            tlimit
           </span>
           option)
          </a>
         </li>
         <li class="toctree-l2">
          <a class="reference internal" href="#resource-manager-and-resource-spending">
           Resource manager and resource spending
          </a>
         </li>
        </ul>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="statistics.html">
         Statistics
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="examples/examples.html">
         Examples
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="theories/theories.html">
         Theory References
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="references.html">
         References
        </a>
       </li>
       <li class="toctree-l1">
        <a class="reference internal" href="genindex.html">
         Index
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div aria-label="versions" class="rst-versions shift-up" data-toggle="rst-versions" id="cvc5-versions" role="note">
     <span class="rst-current-version" data-toggle="rst-current-version">
      <i class="fas fa-tags">
      </i>
      Other versions
     </span>
     <div class="rst-other-versions">
      <dl>
       <dd>
        <a href="https://cvc5.github.io/docs-ci/docs-main/">
         cvc5-main
        </a>
       </dd>
       <dd>
        <a href="./../cvc5-1.1.0/">
         cvc5-1.1.0
        </a>
       </dd>
       <dd>
        <a href="./../cvc5-1.0.9/">
         cvc5-1.0.9
        </a>
       </dd>
       <dd>
        <a href="./../cvc5-1.0.8/">
         cvc5-1.0.8
        </a>
       </dd>
       <dd>
        <a href="./../cvc5-1.0.7/">
         cvc5-1.0.7
        </a>
       </dd>
       <dd>
        <a href="./../cvc5-1.0.2/">
         cvc5-1.0.2
        </a>
       </dd>
       <dd>
        <strong>
         <a href="./../cvc5-1.0.1/">
          cvc5-1.0.1
         </a>
        </strong>
       </dd>
       <dd>
        <a href="./../cvc5-1.0.0/">
         cvc5-1.0.0
        </a>
       </dd>
      </dl>
     </div>
    </div>
   </nav>
   <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
    <nav aria-label="top navigation" class="wy-nav-top">
     <i class="fa fa-bars" data-toggle="wy-nav-top">
     </i>
     <a href="index.html">
      cvc5
     </a>
    </nav>
    <div class="wy-nav-content">
     <div class="rst-content">
      <div aria-label="breadcrumbs navigation" role="navigation">
       <ul class="wy-breadcrumbs">
        <li>
         <a class="icon icon-home" href="index.html">
         </a>
         »
        </li>
        <li>
         Resource limits
        </li>
        <li class="wy-breadcrumbs-aside">
        </li>
       </ul>
       <hr/>
      </div>
      <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <div itemprop="articleBody">
        <section id="resource-limits">
         <h1>
          Resource limits
          <a class="headerlink" href="#resource-limits" title="Permalink to this heading">
           ¶
          </a>
         </h1>
         <p>
          cvc5 supports limiting the time or
          <em>
           resources
          </em>
          it uses during solving via the options
          <a class="reference internal" href="options.html#lbl-option-tlimit">
           <span class="std std-ref">
            tlimit
           </span>
          </a>
          ,
          <a class="reference internal" href="options.html#lbl-option-tlimit-per">
           <span class="std std-ref">
            tlimit-per
           </span>
          </a>
          ,
          <a class="reference internal" href="options.html#lbl-option-rlimit">
           <span class="std std-ref">
            rlimit
           </span>
          </a>
          , and
          <a class="reference internal" href="options.html#lbl-option-rlimit-per">
           <span class="std std-ref">
            rlimit-per
           </span>
          </a>
          .
All these options take a single non-negative number as an argument where giving zero explicitly disables the respective limit. For time limits the number is interpreted as the number of milliseconds, and for resource limits it indicates the amount of
          <em>
           resources
          </em>
          .
         </p>
         <p>
          The limits configured using
          <a class="reference internal" href="options.html#lbl-option-tlimit">
           <span class="std std-ref">
            tlimit
           </span>
          </a>
          and
          <a class="reference internal" href="options.html#lbl-option-rlimit">
           <span class="std std-ref">
            rlimit
           </span>
          </a>
          restrict time and resource usage over the whole lifetime of the
          <a class="reference internal" href="api/cpp/solver.html#_CPPv4N4cvc56SolverE" title="cvc5::Solver">
           <code class="xref cpp cpp-class docutils literal notranslate">
            <span class="pre">
             solver
            </span>
           </code>
          </a>
          object, respectively.
In contrast to that,
          <a class="reference internal" href="options.html#lbl-option-tlimit-per">
           <span class="std std-ref">
            tlimit-per
           </span>
          </a>
          and
          <a class="reference internal" href="options.html#lbl-option-rlimit-per">
           <span class="std std-ref">
            rlimit-per
           </span>
          </a>
          apply to every check individually (
          <a class="reference internal" href="api/cpp/solver.html#_CPPv4NK4cvc56Solver8checkSatEv" title="cvc5::Solver::checkSat">
           <code class="xref cpp cpp-func docutils literal notranslate">
            <span class="pre">
             checkSat
            </span>
           </code>
          </a>
          ,
          <a class="reference internal" href="api/cpp/solver.html#_CPPv4NK4cvc56Solver16checkSatAssumingERK4Term" title="cvc5::Solver::checkSatAssuming">
           <code class="xref cpp cpp-func docutils literal notranslate">
            <span class="pre">
             checkSatAssuming
            </span>
           </code>
          </a>
          , etc).
         </p>
         <p>
          Except for the overall time limit (see below), the limits are checked by cvc5 itself. This means that the solver remains in a safe state after a limit has been reached.
Due to the way cvc5 checks these limits (see below), cvc5 may not precisely honor per-call time limits: if a subroutine requires a long time to finish without spending resources itself, cvc5 only realizes afterwards that the timeout has (long) passed.
         </p>
         <section id="overall-time-limit-tlimit-option">
          <h2>
           Overall time limit (
           <a class="reference internal" href="options.html#lbl-option-tlimit">
            <span class="std std-ref">
             tlimit
            </span>
           </a>
           option)
           <a class="headerlink" href="#overall-time-limit-tlimit-option" title="Permalink to this heading">
            ¶
           </a>
          </h2>
          <p>
           The
           <a class="reference internal" href="options.html#lbl-option-tlimit">
            <span class="std std-ref">
             tlimit
            </span>
           </a>
           option limits the overall running time of the cvc5 solver binary.
It is implemented using an asynchronous interrupt that is usually managed by the operating system (using
           <code class="docutils literal notranslate">
            <span class="pre">
             setitimer
            </span>
           </code>
           ).
When this interrupt occurs, cvc5 outputs a corresponding message, prints the current statistics and immediately terminates its process. The same is done when an external resource limiting mechanism is in place, for example
           <code class="docutils literal notranslate">
            <span class="pre">
             ulimit
            </span>
           </code>
           .
          </p>
          <p>
           This mechanism is inherently unsuited when cvc5 is used within another application process via one of its APIs: therefore, it is only honored when running as a standalone binary.
Setting
           <a class="reference internal" href="options.html#lbl-option-tlimit">
            <span class="std std-ref">
             tlimit
            </span>
           </a>
           via the API or the
           <code class="docutils literal notranslate">
            <span class="pre">
             (set-option)
            </span>
           </code>
           SMT-LIB command has thus no effect.
          </p>
         </section>
         <section id="resource-manager-and-resource-spending">
          <h2>
           Resource manager and resource spending
           <a class="headerlink" href="#resource-manager-and-resource-spending" title="Permalink to this heading">
            ¶
           </a>
          </h2>
          <p>
           All other limits are enforced centrally by the resource manager as follows.
Whenever certain parts of the solver execute, they instruct the resource manager to
           <em>
            spend
           </em>
           a resource.
As soon as the resource manager realizes that some limit is exhausted (either the resource limit or the per-check time limit is reached), it asynchronously instructs the core solver to interrupt the check.
To not invalidate the internal state of the solver, and allow to use it again after an interrupt, the solver continues its work until it reaches a safe point in one of the core solving components.
Then, it returns
           <cite>
            unknown
           </cite>
           (with an
           <a class="reference internal" href="api/cpp/unknownexplanation.html#_CPPv4N4cvc518UnknownExplanationE" title="cvc5::UnknownExplanation">
            <code class="xref cpp cpp-enum docutils literal notranslate">
             <span class="pre">
              explanation
             </span>
            </code>
           </a>
           ).
          </p>
          <p>
           The intention of a resource limit is to be a deterministic measure that grows (linearly, if possible) with actual running time.
Resources are spent when lemmas are generated and during a few select events like preprocessing, rewriting, decisions and restarts in the SAT solver, or theory checks.
In case the resource spending does not properly reflect the running time, the weights of the individual resources can be modified using the
           <a class="reference internal" href="options.html#lbl-option-rweight">
            <span class="std std-ref">
             rweight
            </span>
           </a>
           option, for example with
           <code class="docutils literal notranslate">
            <span class="pre">
             --rweight=RestartStep=5
            </span>
           </code>
           .
          </p>
         </section>
        </section>
       </div>
      </div>
      <footer>
       <div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
        <a accesskey="n" class="btn btn-neutral float-right" href="statistics.html" rel="next" title="Statistics">
         Next
         <span aria-hidden="true" class="fa fa-arrow-circle-right">
         </span>
        </a>
        <a accesskey="p" class="btn btn-neutral float-left" href="proofs/output_dot.html" rel="prev" title="Proof format: DOT">
         <span aria-hidden="true" class="fa fa-arrow-circle-left">
         </span>
         Previous
        </a>
       </div>
       <hr/>
       <div role="contentinfo">
        <p>
         © Copyright 2022, the authors of cvc5.
        </p>
       </div>
       Built with
       <a href="https://www.sphinx-doc.org/">
        Sphinx
       </a>
       using a
       <a href="https://github.com/readthedocs/sphinx_rtd_theme">
        theme
       </a>
       provided by
       <a href="https://readthedocs.org">
        Read the Docs
       </a>
       .
      </footer>
     </div>
    </div>
   </section>
  </div>
  <script type="text/javascript">
   jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 </body>
</html>
